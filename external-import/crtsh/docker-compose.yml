version: '3'
services:
  connector:
    build: .
    container_name: ${CONTAINER_NAME}
    environment:
      # Connector's definition parameters:
      - CONNECTOR_TYPE=EXTERNAL_IMPORT
      - CONNECTOR_NAME=Certificate Search
      - CONNECTOR_SCOPE=stix2
      # Connector's generic execution parameters:
      - OPENCTI_URL=${OPENCTI_URL}
      - OPENCTI_TOKEN=${OPENCTI_TOKEN}
      - CONNECTOR_ID=${CONNECTOR_ID}
      - CONNECTOR_CONFIDENCE_LEVEL=${CONNECTOR_CONFIDENCE_LEVEL} # From 0 (Unknown) to 100 (Fully trusted).
      - CONNECTOR_LOG_LEVEL=${CONNECTOR_LOG_LEVEL}
      - CONNECTOR_RUN_EVERY=${CONNECTOR_RUN_EVERY}
      - CONNECTOR_UPDATE_EXISTING_DATA=${CONNECTOR_UPDATE_EXISTING_DATA}
      # Connector's custom execution parameters:
      # Domain to search for e.g., google.com
      - CRTSH_DOMAIN=
      # Comma separated list of labels e.g., crtsh,osint
      - CRTSH_LABELS=crtsh
      # TLP Marking Refs e.g., TLP:WHITE, TLP:GREEN, TLP:AMBER, TLP:RED
      - CRTSH_MARKING_REFS=TLP:WHITE
      # Filters epired certificates. One of the following: true, false
      - CRTSH_IS_EXPIRED=false
      # Applies a wildcard expression for the Domain. One of the following: true, false
      - CRTSH_IS_WILDCARD=false
    restart: always

networks:
  default:
    external: true
    name: docker_default