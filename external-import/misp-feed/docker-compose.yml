version: '3'
services:
  connector-misp-feed:
    image: opencti/connector-misp-feed:latest
    environment:
      - OPENCTI_URL=http://localhost
      - OPENCTI_TOKEN=ChangeMe
      - CONNECTOR_ID=ChangeMe
      - "CONNECTOR_NAME=MISP Feed" # Optional (default: 'Misp Feed')
      - CONNECTOR_SCOPE=misp-feed
      - CONNECTOR_LOG_LEVEL=error # Optional (default: 'error')
      - CONNECTOR_DURATION_PERIOD=PT5M # Optional (default: 5 minutes)
      - MISP_FEED_SOURCE_TYPE=url # Optional (default: 'url')
      - MISP_FEED_URL=https://changeme.com/misp-feed # Required only if `MISP_FEED_SOURCE_TYPE` is 'url'
      - MISP_FEED_SSL_VERIFY=true # Optional (default: true)
      - MISP_FEED_BUCKET_NAME= # Required only if `MISP_FEED_SOURCE_TYPE` is 's3'
      - MISP_FEED_BUCKET_PREFIX= # Required only if `MISP_FEED_SOURCE_TYPE` is 's3'
      - MISP_FEED_IMPORT_FROM_DATE=2000-01-01 # Optional (default: none)
      - MISP_FEED_CREATE_REPORTS=true # Optional (default: true)
      - MISP_FEED_REPORT_TYPE=misp-event # Optional (default: 'misp-event')
      - MISP_FEED_CREATE_INDICATORS=true # Optional (default: false)
      - MISP_FEED_CREATE_OBSERVABLES=true # Optional (default: false)
      - MISP_FEED_CREATE_OBJECT_OBSERVABLES=true # Optional (default: false)
      - MISP_FEED_CREATE_TAGS_AS_LABELS=true # Optional (default: true)
      - MISP_FEED_GUESS_THREATS_FROM_TAGS=false # Optional (default: false)
      - MISP_FEED_AUTHOR_FROM_TAGS=false # Optional (default: false)
      - MISP_FEED_IMPORT_TO_IDS_NO_SCORE=40 # Optional (default: none)
      - MISP_FEED_IMPORT_UNSUPPORTED_OBSERVABLES_AS_TEXT=false #  Optional (default: false)
      - MISP_FEED_IMPORT_UNSUPPORTED_OBSERVABLES_AS_TEXT_TRANSPARENT=true #  Optional (default: true)
      - MISP_FEED_IMPORT_WITH_ATTACHMENTS=false # Optional (default: false)
    restart: always
