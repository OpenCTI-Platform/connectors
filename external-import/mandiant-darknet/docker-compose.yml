version: '3'
services:
  connector-mandiant-darknet:
    build: ./connector-mandiant-darknet
    #container_name: ${CONTAINER_NAME}
    environment:
      # Connector's definition parameters:
      - CONNECTOR_TYPE=EXTERNAL_IMPORT
      - CONNECTOR_NAME=Mandiant-Darknet
      - CONNECTOR_SCOPE=Mandiant-Darknet
      # Connector's generic execution parameters:
      - OPENCTI_URL=${OPENCTI_URL}
      - OPENCTI_TOKEN=${OPENCTI_TOKEN}
      - CONNECTOR_ID=${CONNECTOR_MANDIANT_DARKNET_ID}
      - CONNECTOR_CONFIDENCE_LEVEL=${CONNECTOR_MANDIANT_DARKNET_CONFIDENCE_LEVEL} # From 0 (Unknown) to 100 (Fully trusted).
      - CONNECTOR_LOG_LEVEL=${CONNECTOR_MANDIANT_DARKNET_LOG_LEVEL}
      - CONNECTOR_RUN_EVERY=${CONNECTOR_MANDIANT_DARKNET_RUN_EVERY}
      # Connector's custom execution parameters:
      - MANDIANT_API_URL=${MANDIANT_API_URL}
      - MANDIANT_API_V4_KEY_ID=${MANDIANT_API_V4_KEY_ID}
      - MANDIANT_API_V4_KEY_SECRET=${MANDIANT_API_V4_KEY_SECRET}
      - MANDIANT_DARKNET_IMPORT_START_DATE=${MANDIANT_DARKNET_IMPORT_START_DATE}
      - MANDIANT_DARKNET_TLP=${MANDIANT_DARKNET_TLP}  
    restart: always

networks:
  default:
          external: true
    name: docker_default
