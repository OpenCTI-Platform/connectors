services:
  connector-checkfirst-import-connector:
    build: .
    environment:
      - OPENCTI_URL=http://opencti:8080
      - OPENCTI_TOKEN=ChangeMe
      - CONNECTOR_ID=checkfirst-pravda
      - CONNECTOR_NAME=Checkfirst Import Connector
      - CONNECTOR_SCOPE=media-content,channel,url
      - CONNECTOR_LOG_LEVEL=info
      - CONNECTOR_DURATION_PERIOD=P7D
      - CHECKFIRST_API_URL=${CHECKFIRST_API_URL}
      - CHECKFIRST_API_KEY=${CHECKFIRST_API_KEY}
      - CHECKFIRST_API_ENDPOINT=${CHECKFIRST_API_ENDPOINT}
      - CHECKFIRST_SINCE=${CHECKFIRST_SINCE:-2025-01-01T00:00:00Z}
      - CHECKFIRST_TLP_LEVEL=${CHECKFIRST_TLP_LEVEL}
    networks:
      - default
    restart: unless-stopped

networks:
  default:
    external: true
    name: docker_default
